
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <title>My Homepage</title>

    <style>
        table#t01 tr:nth-child(even) {
            background-color: rgb(214, 214, 214);
        }

        table#t01 tr:nth-child(odd) {
            background-color: rgb(204, 204, 204);
        }

        span#w01 {
            font-size: 18px;
            font-weight: bold;
            margin-left: 30px;
        }

        img#d01 {
            vertical-align: -8px;
        }
 
    </style>

    <script type="text/javascript">
        var pageToActivate;
        var proxy = "https://cors-anywhere.herokuapp.com/";
        var rss2json = "https://api.rss2json.com/v1/api.json?rss_url=";

       function xmlLoadCallback() {
            decodeXmlJson(pageToActivate, this.responseText);
        }

        function decodeXmlJson(page, jsonTxt) {
            jsonObj = JSON.parse(jsonTxt);

            html = "<UL>";
            for (var i = 0; i < jsonObj.items.length; i++) {
                var article = jsonObj.items[i];
				var desc = article.description.replace(/<img[^]*?>/g, "");
                desc = desc.replace(/<\/?p>/g,"")
                html = html + "<LI><A href=\"" + article.link + "\">" + article.title + "</A><BR>" + desc + "<BR>";
            }
            html = html + "</UL>";
            page.innerHTML = html;
        }

        function loadWeather() {
            decodeWeather(pageToActivate, this.responseText);
        }

         function decodeWeather(page, jsonTxt) {
            jsonObj = JSON.parse(jsonTxt);

             html = "<TABLE>";
             for (var i = 0; i < jsonObj.properties.periods.length; i++) {
                 var period = jsonObj.properties.periods[i];
                 dt = new Date(period.startTime);
                 html = html + "<TR><TD>" + (dt.getMonth()+1) + "/" + dt.getDate() + "</TD>";
                 html = html + "<TD>" + period.name + "</TD>";
                 html = html + "<TD style=\"text-align:left\">Temp: " + period.temperature + "</TD>";
                 html = html + "<TD>" + period.shortForecast + "</TD></TR>";
                 html = html + "<TR><TD colspan =\"4\">" + period.detailedForecast + "</TD></TR>";
                 html = html + "<TR><TD colspan = \"4\">---</TD></TR>";
            }
            html = html + "</TABLE>";
            page.innerHTML = html;
        }

        function activateWeather(pageId, url) {

            var tabCtrl = document.getElementById('tabCtrl');
            pageToActivate = document.getElementById(pageId);
            for (var i = 0; i < tabCtrl.childNodes.length; i++) {
                var node = tabCtrl.childNodes[i];
                if (node.nodeType == 1) { /* Element */
                    node.style.display = (node == pageToActivate) ? 'block' : 'none';

                    if (node.style.display == 'none') {
                        continue;
                    }

                    if (url == '') {
                        continue;
                    }
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.addEventListener("load", loadWeather);
                    xmlhttp.open("GET", url);
                    xmlhttp.send();
                }
            }
        }


        function activateTab(pageId, url) {
            var tabCtrl = document.getElementById('tabCtrl');
            pageToActivate = document.getElementById(pageId);
            for (var i = 0; i < tabCtrl.childNodes.length; i++) {
                var node = tabCtrl.childNodes[i];
                if (node.nodeType == 1) { /* Element */
                    node.style.display = (node == pageToActivate) ? 'block' : 'none';

                    if (node.style.display == 'none') {
                        continue;
                    }

                    if (url == '') {
                        continue;
                    }

                    var xmlhttp = new XMLHttpRequest();

                    xmlhttp.addEventListener("load", xmlLoadCallback);
                    xmlhttp.open("GET", rss2json + url);
                    xmlhttp.send();
                }
            }
        }
    </script>

</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(204, 204, 204);" alink="#000099" link="#000099" vlink="#990099" onload="javascript:activateTab('CBCTop', 'https://cbc.ca/cmlink/rss-world')">
<!-- 'http://feeds.reuters.com/Reuters/worldNews')"> -->
    <br>
    <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
        <tbody>
            <tr>
                <td>
                    <div><a href="http://mail.yahoo.com/">Yahoo Mail</a></div>
                    <div><a href="http://finance.yahoo.com/">Yahoo Finance</a></div>
                    <div><a href="http://gmail.google.com/">GMail</a></div>
                    <div><a href="http://www.dailykos.com">Kos</a></div>
                </td>
                <td>
                    <!-- Search Google -->
                    <form method="get" action="http://www.google.com/search">
                        <input name="ie" value="UTF-8" type="hidden"><input name="oe" value="UTF-8" type="hidden">
                        <table style="width: 100%; height: 63px;">
                            <tbody>
                                <tr>
                                    <td style="text-align: left;"><input name="q" size="80" maxlength="255" value="" type="text"><input name="btnG" value="Google Search" type="submit"></td>
                                </tr>
                            </tbody>
                        </table>
                    </form>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <table style="text-align: left; width: 100%; height: 138px;" border="1" cellpadding="2" cellspacing="2">
        <tbody>
            <tr>
                <td style="width: 829px;">
                    <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
                        <tbody>
                            <tr>

                                <!-- CBC - NewsAPI/JSON -->
                                <td style="width: 124px;"><a href="javascript:activateTab('CBCTop', 'https://cbc.ca/cmlink/rss-world')">CBC</a></td>

                                <!-- AP - NewsAPI/JSON -->
                                <td style="width: 124px;"><a href="javascript:activateTab('RTP','https://www.rtp.pt/noticias/rss')">RTP</a></td>

                                <!-- BBC - NewsAPI/JSON -->
                                <td style="width: 126px;"><a href="javascript:activateTab('BBC','https://feeds.bbci.co.uk/news/world/rss.xml')">BBC</a></td>

                                <!-- CNBC - NewsAPI/JSON -->
                                <td style="width: 131px;"><a href="javascript:activateTab('CNBC','https://www.cnbc.com/id/100727362/device/rss/rss.html')">CNBC</a></td>

                                <!-- Seattle Times - RSS/XML 
                                <td style="width: 129px;"><a href="javascript:activateTab('SeattleTimes','https://www.seattletimes.com/seattle-news/feed/', false)">Seattle Times</a></td>

                                Seattle Weather - Weather Underground - XML 
                                <td style="width: 130px;"><a href="javascript:activateWeather('WSeattle','https://api.weather.gov/gridpoints/SEW/124,69/forecast')">Weather:Seattle</a></td>

                                Quilecene Weather - Weather Underground - XML
                                <td style="width: 130px;"><a href="javascript:activateWeather('WQuilcene','https://api.weather.gov/gridpoints/SEW/111,82/forecast')">Weather:Dabob</a></td>
								-->
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <div id="tabCtrl">
                        <div id="CBCTop" style="display: block;">
                            Loading...
                        </div>
                        <div id="RTP" style="display: none;">
                        </div>
                        <div id="BBC" style="display: none;">
                        </div>
                        <div id="CNBC" style="display: none;">
                        </div>
                        <div id="SeattleTimes" style="display: none;">
                        </div>
                        <div id="WQuilcene" style="display: none;">
                        </div>
                        <div id="WSeattle" style="display: none;">
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
